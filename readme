minikube start

minikube service hello-minikube1 --url 

minikube service hello-minikube1 --url 


For building local docker images in Minikube
eval $(minikube -p minikube docker-env)
docker build . -t imagename  

kubectl create or delete on the dep files is all that is needed 
run minikube tunnel in separate window

run 
kubectl create -f myelixirdep.yaml
to create 

kubectl delete -f myelixirdep.yaml
to delete

run the service
kubectl create -f headless-svc.yaml  


kubectl get pods

kubectl logs PODNAME_FROM_GET_PODS

terminate a pod

kubectl delete pod ex-cluster-5b45c8577b-jltm9

get inside pod


################################################################################

kubectl get pods


kubectl exec -it  erouter-deployment-8959d78f8-2wclk -- /bin/sh

in another shell in the same container we can run 
/opt/task_router/bin/task_router remote


################################################################################################


Notice the name of the VM is.
iex(worker@127.0.0.1)

should be
"worker@10-244-0-55.default.pod.cluster.local"


on another node run 
/opt/worker/bin/worker remote

/opt/task_router/bin/task_router remote


/opt/myapp/bin/hello remote

or

export CONT_NAME=erouter-deployment-8959d78f8-kng67 
ericpeterson@Erics-MacBook-Pro kubernetes % kubectl exec -it ${CONT_NAME} -- /bin/sh         



then run
Node.connect :"worker@10-244-0-55.default.pod.cluster.local"


Chat.start(1,2)
{:ok, #PID<0.895.0>}
iex(worker@10-244-0-63.default.pod.cluster.local)4> 



22:50:23.985 [warning] [libcluster:k8s_example] unable to connect to :"worker@10.244.0.63"
 
22:50:23.992 [warning] [libcluster:k8s_example] unable to connect to :"worker@10.244.0.64"

22:50:23.999 [warning] [libcluster:k8s_example] unable to connect to :"worker@10.244.0.65"
nil



hello@10.244.0.231



kubectl exec -it mongo-depl-5ccf565747-knsb5 -- /bin/bash
